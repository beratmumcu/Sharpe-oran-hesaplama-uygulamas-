#include <stdio.h>
#include <stdlib.h> // system("pause") fonksiyonu için

int main() {
    // Gerekli değişkenleri double olarak tanımlıyoruz çünkü ondalıklı sayılarla çalışacağız.
    double portfoyGetirisi, risksizFaizOrani, standartSapma;
    double sharpeOrani;

    // Kullanıcıya program hakkında bilgi ver
    printf("--- Sharpe Orani Hesaplama Programi ---\n\n");
    printf("Bu program, girdiginiz degerlere gore bir yatirimin risk-getiri performansini\n");
    printf("hesaplayan Sharpe Orani'ni bulur.\n\n");

    // Kullanıcıdan gerekli değerleri al
    // Not: Değerleri yüzde olarak girmesini istiyoruz (Örn: %8 için 8 giriniz)
    printf("Lutfen portfoyun yillik beklenen getiri oranini yuzde olarak giriniz (orn: 8.5): ");
    scanf("%lf", &portfoyGetirisi);

    printf("Lutfen yillik risksiz faiz oranini yuzde olarak giriniz (orn: 2.1): ");
    scanf("%lf", &risksizFaizOrani);

    printf("Lutfen portfoy getirisinin yillik standart sapmasini (volatilite) yuzde olarak giriniz (orn: 15.0): ");
    scanf("%lf", &standartSapma);

    // Yüzde olarak alınan değerleri ondalık formata çevir (örn: 8.5 -> 0.085)	
    portfoyGetirisi = portfoyGetirisi / 100.0;
    risksizFaizOrani = risksizFaizOrani / 100.0;
    standartSapma = standartSapma / 100.0;

    // Hesaplama
    // Standart sapmanın 0 olup olmadığını kontrol et (sıfıra bölme hatasını önlemek için)
    if (standartSapma == 0) {
        printf("\n\nHATA: Standart sapma 0 olamaz. Bu durumda Sharpe Orani hesaplanamaz (sonsuz cikar).\n");
    } else {
        // Sharpe Oranı formülünü uygula
        sharpeOrani = (portfoyGetirisi - risksizFaizOrani) / standartSapma;

        // Sonucu ekrana yazdır
        printf("\n----------------------------------------\n");
        printf("Hesaplanan Sharpe Orani: %.4f\n", sharpeOrani); // Sonucu 4 ondalık basamakla göster
        printf("----------------------------------------\n\n");

        // Sonucun yorumlanması
        printf("Yorum:\n");
        printf("- 1'in altindaki oranlar genellikle 'kotu' kabul edilir.\n");
        printf("- 1 ile 1.99 arasi 'iyi' olarak kabul edilir.\n");
        printf("- 2 ile 2.99 arasi 'cok iyi' olarak kabul edilir.\n");
        printf("- 3 ve uzeri oranlar 'mukemmel' olarak kabul edilir.\n");
    }

    // Dev-C++'da konsolun hemen kapanmasını engellemek için
    printf("\nCikmak icin bir tusa basin...");
    fflush(stdin); // Önbelleği temizle
    getchar();     // Kullanıcının bir tuşa basmasını bekle (alternatif system("pause"))

    return 0;
}
